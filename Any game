local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Camera = workspace.CurrentCamera
local TweenService = game:GetService("TweenService")
local Teams = game:GetService("Teams")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local HttpService = game:GetService("HttpService")
local saveFile = "reloading_cheats.json"

-- Variables
local aimKey = Enum.UserInputType.MouseButton1
local aimKeyName = "LeftClick"
local BHOP_JUMP_POWER = 55
local BHOP_AIR_CONTROL = 0.6
local BHOP_MAX_SPEED = 100
local JUMP_COOLDOWN = 0.1
local isBhopping = false
local lastJumpTime = 0
local bhopConnection = nil
local isZooming = false
local lastTarget = nil
local FlyBodyVelocity = nil
local JerkInstance = nil
local ESP = {}
local Connections = {}
local Settings = {
    FOVSize = 100,
    SpeedScale = 50,
    JumpBoostScale = 50,
    SuperJumpScale = 100,
    SpinBotSpeed = 10,
    GameFOV = 70,
    AimbotDistance = 2000,
    BHOPSpeed = 20,
    FlySpeed = 50,
    CameraZoomScale = 30,
    ESPDistance = 500,
    BoxThickness = 2,
    BoxColor = Color3.fromRGB(255, 255, 255)
}
local Toggles = {
    NoClip = false,
    InfJump = false,
    Aimbot = false,
    TeamCheck = false,
    BoxESP = false,
    Tracers = false,
    HealthESP = false,
    NamesESP = false,
    DistanceESP = false,
    SpeedHack = false,
    Fly = false,
    JumpBoost = false,
    SuperJump = false,
    Invisible = false,
    SpinBot = false,
    GodMode = false,
    AntiAFK = false,
    ['EnemyTP-Kill'] = false,
    ShowFOV = false,
    Jerk = false,
    BHOP = false,
    CameraZoom = false,
    TriggerBot = false
}
local DefaultSettings = {
    FOVSize = 100,
    SpeedScale = 50,
    JumpBoostScale = 50,
    SuperJumpScale = 100,
    SpinBotSpeed = 10,
    GameFOV = 70,
    AimbotDistance = 2000,
    BHOPSpeed = 20,
    FlySpeed = 50,
    CameraZoomScale = 30,
    ESPDistance = 500,
    BoxThickness = 2,
    BoxColor = Color3.fromRGB(255, 255, 255)
}
local DefaultToggles = {
    NoClip = false,
    InfJump = false,
    Aimbot = false,
    TeamCheck = false,
    BoxESP = false,
    Tracers = false,
    HealthESP = false,
    NamesESP = false,
    DistanceESP = false,
    SpeedHack = false,
    Fly = false,
    JumpBoost = false,
    SuperJump = false,
    Invisible = false,
    SpinBot = false,
    GodMode = false,
    AntiAFK = false,
    ['EnemyTP-Kill'] = false,
    ShowFOV = false,
    Jerk = false,
    BHOP = false,
    CameraZoom = false,
    TriggerBot = false
}
-- Store toggle UI elements for updating on load
local ToggleUIElements = {}
-- TriggerBot
_G.triggerbot = false
local Clicked = false
local function ToggleTriggerBot(state)
    Toggles.TriggerBot = state
    _G.triggerbot = state
    if state then
        local triggerBotConnection = RunService.RenderStepped:Connect(function()
            if _G.triggerbot then
                local mouse = LocalPlayer:GetMouse()
                if mouse.Target then
                    local targetParent = mouse.Target.Parent
                    local targetParentParent = mouse.Target.Parent.Parent
                    local humanoid = targetParent:FindFirstChildOfClass("Humanoid") or targetParentParent:FindFirstChildOfClass("Humanoid")
                    if humanoid and humanoid.Health >= 1 and targetParent.Name ~= LocalPlayer.Name then
                        if not Clicked then
                            mouse1press()
                            Clicked = true
                        end
                    else
                        if Clicked then
                            mouse1release()
                            Clicked = false
                        end
                    end
                else
                    if Clicked then
                        mouse1release()
                        Clicked = false
                    end
                end
            else
                if Clicked then
                    mouse1release()
                    Clicked = false
                end
            end
        end)
        table.insert(Connections, triggerBotConnection)
    else
        if Clicked then
            mouse1release()
            Clicked = false
        end
        for i, conn in ipairs(Connections) do
            if conn.Name == "TriggerBot" then
                pcall(function() conn:Disconnect() end)
                table.remove(Connections, i)
                break
            end
        end
    end
end
-- Utility Functions
local function getInputName(input)
    if input:IsA("EnumItem") and input.EnumType == Enum.UserInputType then
        return input.Name:gsub("MouseButton", "Click")
    end
    return tostring(input)
end
local function hasTeams()
    return #Teams:GetTeams() > 0 and LocalPlayer.Team ~= nil
end
local function isValidCharacter(player)
    return player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0
end
-- Popup Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.Name = "Reloading :) Menu"
ScreenGui.IgnoreGuiInset = true
ScreenGui.Enabled = true
ScreenGui.ResetOnSpawn = false
local PopupFrame = Instance.new("Frame")
PopupFrame.Size = UDim2.new(0, 300, 0, 100)
PopupFrame.Position = UDim2.new(0.5, -150, 0.5, -50)
PopupFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
PopupFrame.BorderSizePixel = 0
PopupFrame.Parent = ScreenGui
PopupFrame.BackgroundTransparency = 1
local PopupCorner = Instance.new("UICorner")
PopupCorner.CornerRadius = UDim.new(0, 12)
PopupCorner.Parent = PopupFrame
local PopupText = Instance.new("TextLabel")
PopupText.Size = UDim2.new(1, 0, 1, 0)
PopupText.BackgroundTransparency = 1
PopupText.Text = "Reloading :)"
PopupText.TextColor3 = Color3.fromRGB(255, 255, 255)
PopupText.TextSize = 24
PopupText.Font = Enum.Font.SourceSansBold
PopupText.TextTransparency = 1
PopupText.Parent = PopupFrame
-- Popup Animation
local function showPopup()
    TweenService:Create(PopupFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0}):Play()
    TweenService:Create(PopupText, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextTransparency = 0}):Play()
    task.wait(1.5)
    TweenService:Create(PopupFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {BackgroundTransparency = 1}):Play()
    TweenService:Create(PopupText, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {TextTransparency = 1}):Play()
    task.wait(0.5)
    PopupFrame:Destroy()
end
showPopup()
-- GUI Setup
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, -350, 0.5, -225)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = true
MainFrame.Parent = ScreenGui
MainFrame.BackgroundTransparency = 1
TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = UDim2.new(0, 700, 0, 450), BackgroundTransparency = 0}):Play()
local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 8)
MainCorner.Parent = MainFrame
-- Smooth Dragging for MainFrame
local isDraggingMain = false
local dragStartMain = nil
local startPosMain = nil
local function updateMainDrag(input)
    local delta = input.Position - dragStartMain
    local newPos = UDim2.new(startPosMain.X.Scale, startPosMain.X.Offset + delta.X, startPosMain.Y.Scale, startPosMain.Y.Offset + delta.Y)
    TweenService:Create(MainFrame, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Position = newPos}):Play()
end
UserInputService.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 and MainFrame.Visible then
        local mousePos = input.Position
        local framePos = MainFrame.AbsolutePosition
        local frameSize = MainFrame.AbsoluteSize
        if mousePos.X >= framePos.X and mousePos.X <= framePos.X + frameSize.X and mousePos.Y >= framePos.Y and mousePos.Y <= framePos.Y + 40 then
            isDraggingMain = true
            dragStartMain = mousePos
            startPosMain = MainFrame.Position
        end
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if isDraggingMain and input.UserInputType == Enum.UserInputType.MouseMovement then
        updateMainDrag(input)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isDraggingMain = false
    end
end)
local TopBar = Instance.new("Frame")
TopBar.Size = UDim2.new(1, 0, 0, 40)
TopBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
TopBar.Parent = MainFrame
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0.5, 0, 1, 0)
Title.BackgroundTransparency = 1
Title.Text = "Reloading :) Menu"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 18
Title.Font = Enum.Font.SourceSansSemibold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TopBar
local TitlePadding = Instance.new("UIPadding")
TitlePadding.PaddingLeft = UDim.new(0, 15)
TitlePadding.Parent = Title
-- FPS and Ping Display
local StatsFrame = Instance.new("Frame")
StatsFrame.Size = UDim2.new(0, 120, 0, 30)
StatsFrame.Position = UDim2.new(1, -170, 0, 5)
StatsFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
StatsFrame.Parent = TopBar
local StatsCorner = Instance.new("UICorner")
StatsCorner.CornerRadius = UDim.new(0, 5)
StatsCorner.Parent = StatsFrame
local StatsLabel = Instance.new("TextLabel")
StatsLabel.Size = UDim2.new(1, 0, 1, 0)
StatsLabel.BackgroundTransparency = 1
StatsLabel.Text = "FPS: -- | Ping: --"
StatsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
StatsLabel.TextSize = 14
StatsLabel.Font = Enum.Font.SourceSans
StatsLabel.TextXAlignment = Enum.TextXAlignment.Center
StatsLabel.Parent = StatsFrame
-- Update FPS and Ping
local lastUpdate = 0
local frameCount = 0
RunService.RenderStepped:Connect(function(deltaTime)
    frameCount = frameCount + 1
    if tick() - lastUpdate >= 1 then
        local fps = math.floor(frameCount / (tick() - lastUpdate))
        local ping = math.floor(Players.LocalPlayer:GetNetworkPing() * 1000)
        StatsLabel.Text = string.format("FPS: %d | Ping: %dms", fps, ping)
        frameCount = 0
        lastUpdate = tick()
    end
end)
-- Save Settings Button
local SaveButton = Instance.new("TextButton")
SaveButton.Size = UDim2.new(0, 80, 0, 30)
SaveButton.Position = UDim2.new(1, -260, 0, 5)
SaveButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
SaveButton.Text = "Save"
SaveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SaveButton.TextSize = 14
SaveButton.Font = Enum.Font.SourceSansBold
SaveButton.Parent = TopBar
local SaveCorner = Instance.new("UICorner")
SaveCorner.CornerRadius = UDim.new(0, 5)
SaveCorner.Parent = SaveButton
-- Unsave Settings Button
local UnsaveButton = Instance.new("TextButton")
UnsaveButton.Size = UDim2.new(0, 80, 0, 30)
UnsaveButton.Position = UDim2.new(1, -350, 0, 5)
UnsaveButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
UnsaveButton.Text = "Unsave"
UnsaveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
UnsaveButton.TextSize = 14
UnsaveButton.Font = Enum.Font.SourceSansBold
UnsaveButton.Parent = TopBar
local UnsaveCorner = Instance.new("UICorner")
UnsaveCorner.CornerRadius = UDim.new(0, 5)
UnsaveCorner.Parent = UnsaveButton
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -40, 0, 5)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 16
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.Parent = TopBar
local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 5)
CloseCorner.Parent = CloseButton
CloseButton.MouseButton1Click:Connect(function()
    for _, conn in pairs(Connections) do
        pcall(function() conn:Disconnect() end)
    end
    if FlyBodyVelocity then FlyBodyVelocity:Destroy() end
    if FOVCircle then FOVCircle:Remove() end
    for player, esp in pairs(ESP) do
        for _, obj in pairs(esp) do
            pcall(function() obj:Remove() end)
        end
    end
    if ProfileFrame then ProfileFrame:Destroy() end
    if PlayerActionFrame then PlayerActionFrame:Destroy() end
    MainFrame:Destroy()
end)
local Sidebar = Instance.new("Frame")
Sidebar.Size = UDim2.new(0, 150, 1, -40)
Sidebar.Position = UDim2.new(0, 0, 0, 40)
Sidebar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Sidebar.Parent = MainFrame
local SidebarLayout = Instance.new("UIListLayout")
SidebarLayout.SortOrder = Enum.SortOrder.LayoutOrder
SidebarLayout.Padding = UDim.new(0, 5)
SidebarLayout.Parent = Sidebar
local SidebarPadding = Instance.new("UIPadding")
SidebarPadding.PaddingTop = UDim.new(0, 10)
SidebarPadding.Parent = Sidebar
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -150, 1, -40)
Content.Position = UDim2.new(0, 150, 0, 40)
Content.BackgroundTransparency = 1
Content.Parent = MainFrame
local Pages = {}
local ActiveTab = nil
local function CreateTab(name)
    local TabButton = Instance.new("TextButton")
    TabButton.Size = UDim2.new(1, -20, 0, 40)
    TabButton.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    TabButton.Text = name
    TabButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    TabButton.TextSize = 16
    TabButton.Font = Enum.Font.SourceSans
    TabButton.Parent = Sidebar
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 5)
    ButtonCorner.Parent = TabButton
    local Page = Instance.new("ScrollingFrame")
    Page.Size = UDim2.new(1, -10, 1, -10)
    Page.Position = UDim2.new(0, 5, 0, 5)
    Page.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Page.ScrollBarThickness = 3
    Page.ScrollBarImageColor3 = Color3.fromRGB(255, 255, 255)
    Page.Visible = false
    Page.Parent = Content
    local PageLayout = Instance.new("UIListLayout")
    PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
    PageLayout.Padding = UDim.new(0, 8)
    PageLayout.Parent = Page
    local PagePadding = Instance.new("UIPadding")
    PagePadding.PaddingLeft = UDim.new(0, 10)
    PagePadding.Parent = Page
    Pages[name] = Page
    TabButton.MouseButton1Click:Connect(function()
        for _, page in pairs(Pages) do page.Visible = false end
        Page.Visible = true
        ActiveTab = name
        for _, button in pairs(Sidebar:GetChildren()) do
            if button:IsA("TextButton") then
                button.BackgroundColor3 = (button.Text == name) and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(35, 35, 35)
                button.TextColor3 = (button.Text == name) and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(200, 200, 200)
            end
        end
        TweenService:Create(Page, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
    end)
    if not ActiveTab then
        ActiveTab = name
        Page.Visible = true
        TabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    end
    return Page
end
local CombatPage = CreateTab("Combat")
local MovementPage = CreateTab("Movement")
local VisualsPage = CreateTab("Visuals")
local MiscPage = CreateTab("Misc")
local PlayerListPage = CreateTab("PlayerList")
-- UI Components
local function CreateToggle(parent, name, callback)
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Size = UDim2.new(1, -20, 0, 35)
    ToggleFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    ToggleFrame.Parent = parent
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 6)
    ToggleCorner.Parent = ToggleFrame
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(0.75, 0, 1, 0)
    Label.BackgroundTransparency = 1
    Label.Text = name
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.TextSize = 16
    Label.Font = Enum.Font.SourceSans
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Parent = ToggleFrame
    local LabelPadding = Instance.new("UIPadding")
    LabelPadding.PaddingLeft = UDim.new(0, 12)
    LabelPadding.Parent = Label
    local Switch = Instance.new("TextButton")
    Switch.Size = UDim2.new(0, 50, 0, 25)
    Switch.Position = UDim2.new(1, -60, 0.5, -12.5)
    Switch.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    Switch.Text = ""
    Switch.Parent = ToggleFrame
    local SwitchCorner = Instance.new("UICorner")
    SwitchCorner.CornerRadius = UDim.new(0, 12)
    SwitchCorner.Parent = Switch
    local Knob = Instance.new("Frame")
    Knob.Size = UDim2.new(0, 21, 0, 21)
    Knob.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Knob.Position = UDim2.new(0, 0, 0, 0)
    Knob.Parent = Switch
    local KnobCorner = Instance.new("UICorner")
    KnobCorner.CornerRadius = UDim.new(0, 10)
    KnobCorner.Parent = Knob
    Toggles[name] = false
    ToggleUIElements[name] = { Switch = Switch, Knob = Knob }
    local function updateToggleUI(state)
        local targetPos = state and UDim2.new(1, -21, 0, 0) or UDim2.new(0, 0, 0, 0)
        local targetColor = state and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(60, 60, 60)
        TweenService:Create(Knob, TweenInfo.new(0.2), {Position = targetPos}):Play()
        TweenService:Create(Switch, TweenInfo.new(0.2), {BackgroundColor3 = targetColor}):Play()
    end
    Switch.MouseButton1Click:Connect(function()
        Toggles[name] = not Toggles[name]
        updateToggleUI(Toggles[name])
        callback(Toggles[name])
    end)
    return function(state)
        Toggles[name] = state
        updateToggleUI(state)
        callback(state)
    end
end
local function CreateSlider(parent, name, min, max, default, callback)
    local SliderFrame = Instance.new("Frame")
    SliderFrame.Size = UDim2.new(1, -20, 0, 50)
    SliderFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    SliderFrame.Parent = parent
    local SliderCorner = Instance.new("UICorner")
    SliderCorner.CornerRadius = UDim.new(0, 6)
    SliderCorner.Parent = SliderFrame
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, 0, 0, 20)
    Label.BackgroundTransparency = 1
    Label.Text = name .. ": " .. default
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.TextSize = 14
    Label.Font = Enum.Font.SourceSans
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Parent = SliderFrame
    local LabelPadding = Instance.new("UIPadding")
    LabelPadding.PaddingLeft = UDim.new(0, 12)
    LabelPadding.Parent = Label
    local SliderBar = Instance.new("Frame")
    SliderBar.Size = UDim2.new(1, -30, 0, 8)
    SliderBar.Position = UDim2.new(0, 15, 0, 25)
    SliderBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    SliderBar.Parent = SliderFrame
    local BarCorner = Instance.new("UICorner")
    BarCorner.CornerRadius = UDim.new(0, 4)
    BarCorner.Parent = SliderBar
    local Fill = Instance.new("Frame")
    Fill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
    Fill.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Fill.Parent = SliderBar
    local FillCorner = Instance.new("UICorner")
    FillCorner.CornerRadius = UDim.new(0, 4)
    FillCorner.Parent = Fill
    local SliderButton = Instance.new("TextButton")
    SliderButton.Size = UDim2.new(1, 0, 1, 0)
    SliderButton.BackgroundTransparency = 1
    SliderButton.Text = ""
    SliderButton.Parent = SliderBar
    SliderButton.MouseButton1Down:Connect(function()
        local draggingConnection
        local endConnection
        draggingConnection = RunService.RenderStepped:Connect(function()
            local mousePos = UserInputService:GetMouseLocation()
            local barPos = SliderBar.AbsolutePosition
            local barSize = SliderBar.AbsoluteSize.X
            local relative = math.clamp((mousePos.X - barPos.X) / barSize, 0, 1)
            local value = math.floor(min + (max - min) * relative)
            Settings[name] = value
            Label.Text = name .. ": " .. value
            Fill.Size = UDim2.new(relative, 0, 1, 0)
            callback(value)
        end)
        endConnection = UserInputService.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                draggingConnection:Disconnect()
                endConnection:Disconnect()
            end
        end)
    end)
    parent.CanvasSize = UDim2.new(0, 0, 0, parent.UIListLayout.AbsoluteContentSize.Y + 10)
end
-- Profile Frame
local ProfileFrame = Instance.new("Frame")
ProfileFrame.Size = UDim2.new(0, 140, 0, 60)
ProfileFrame.Position = UDim2.new(0, 5, 1, -65)
ProfileFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
ProfileFrame.BorderSizePixel = 0
ProfileFrame.Parent = MainFrame
local ProfileCorner = Instance.new("UICorner")
ProfileCorner.CornerRadius = UDim.new(0, 6)
ProfileCorner.Parent = ProfileFrame
local ProfileLayout = Instance.new("UIListLayout")
ProfileLayout.FillDirection = Enum.FillDirection.Vertical
ProfileLayout.VerticalAlignment = Enum.VerticalAlignment.Center
ProfileLayout.Padding = UDim.new(0, 2)
ProfileLayout.Parent = ProfileFrame
local NameLabel = Instance.new("TextLabel")
NameLabel.Size = UDim2.new(1, 0, 0.5, 0)
NameLabel.BackgroundTransparency = 1
NameLabel.Text = "Name: " .. LocalPlayer.Name
NameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
NameLabel.TextSize = 14
NameLabel.Font = Enum.Font.SourceSansSemibold
NameLabel.TextXAlignment = Enum.TextXAlignment.Left
NameLabel.Parent = ProfileFrame
local NamePadding = Instance.new("UIPadding")
NamePadding.PaddingLeft = UDim.new(0, 5)
NamePadding.Parent = NameLabel
local UserIdLabel = Instance.new("TextLabel")
UserIdLabel.Size = UDim2.new(1, 0, 0.5, 0)
UserIdLabel.BackgroundTransparency = 1
UserIdLabel.Text = "ID: " .. LocalPlayer.UserId
UserIdLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
UserIdLabel.TextSize = 14
UserIdLabel.Font = Enum.Font.SourceSans
UserIdLabel.TextXAlignment = Enum.TextXAlignment.Left
UserIdLabel.Parent = ProfileFrame
local UserIdPadding = Instance.new("UIPadding")
UserIdPadding.PaddingLeft = UDim.new(0, 5)
UserIdPadding.Parent = UserIdLabel
-- Player Action Menu
local PlayerActionFrame = nil
local function CreatePlayerActionMenu(player)
    if PlayerActionFrame then PlayerActionFrame:Destroy() end
    PlayerActionFrame = Instance.new("Frame")
    PlayerActionFrame.Size = UDim2.new(0, 200, 0, 250)
    PlayerActionFrame.Position = UDim2.new(1, 10, 0, 40)
    PlayerActionFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    PlayerActionFrame.BorderSizePixel = 0
    PlayerActionFrame.Parent = MainFrame
    PlayerActionFrame.BackgroundTransparency = 1
    local ActionCorner = Instance.new("UICorner")
    ActionCorner.CornerRadius = UDim.new(0, 8)
    ActionCorner.Parent = PlayerActionFrame
    local ActionTopBar = Instance.new("Frame")
    ActionTopBar.Size = UDim2.new(1, 0, 0, 30)
    ActionTopBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    ActionTopBar.Parent = PlayerActionFrame
    local ActionTitle = Instance.new("TextLabel")
    ActionTitle.Size = UDim2.new(1, 0, 0, 30)
    ActionTitle.BackgroundTransparency = 1
    ActionTitle.Text = player.Name .. " Actions"
    ActionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    ActionTitle.TextSize = 16
    ActionTitle.Font = Enum.Font.SourceSansBold
    ActionTitle.TextXAlignment = Enum.TextXAlignment.Center
    ActionTitle.Parent = ActionTopBar
    local ActionLayout = Instance.new("UIListLayout")
    ActionLayout.SortOrder = Enum.SortOrder.LayoutOrder
    ActionLayout.Padding = UDim.new(0, 8)
    ActionLayout.Parent = PlayerActionFrame
    local ActionPadding = Instance.new("UIPadding")
    ActionPadding.PaddingTop = UDim.new(0, 40)
    ActionPadding.PaddingLeft = UDim.new(0, 10)
    ActionPadding.PaddingRight = UDim.new(0, 10)
    ActionPadding.Parent = PlayerActionFrame
    local function CreateActionButton(text, callback)
        local Button = Instance.new("TextButton")
        Button.Size = UDim2.new(1, -20, 0, 35)
        Button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        Button.Text = text
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 14
        Button.Font = Enum.Font.SourceSansSemibold
        Button.Parent = PlayerActionFrame
        local ButtonCorner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 6)
        ButtonCorner.Parent = Button
        Button.MouseEnter:Connect(function()
            TweenService:Create(Button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(70, 70, 70)}):Play()
        end)
        Button.MouseLeave:Connect(function()
            TweenService:Create(Button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 50, 50)}):Play()
        end)
        Button.MouseButton1Click:Connect(function()
            callback()
            PlayerActionFrame:Destroy()
            PlayerActionFrame = nil
        end)
    end
    CreateActionButton("Kick", function()
        pcall(function()
            game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents"):FindFirstChild("SayMessageRequest"):FireServer("/kick " .. player.Name, "All")
        end)
    end)
    CreateActionButton("Kill", function()
        if isValidCharacter(player) and isValidCharacter(LocalPlayer) then
            player.Character.Humanoid.Health = 0
        end
    end)
    CreateActionButton("Teleport To", function()
        if isValidCharacter(player) and isValidCharacter(LocalPlayer) then
            LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
        end
    end)
    CreateActionButton("Teleport To Me", function()
        if isValidCharacter(player) and isValidCharacter(LocalPlayer) then
            player.Character.HumanoidRootPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
        end
    end)
    CreateActionButton("Fling", function()
        if isValidCharacter(player) and isValidCharacter(LocalPlayer) then
            local bodyVelocity = Instance.new("BodyVelocity")
            bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            bodyVelocity.Velocity = Vector3.new(math.random(-100, 100), 100, math.random(-100, 100))
            bodyVelocity.Parent = player.Character.HumanoidRootPart
            task.delay(0.5, function() bodyVelocity:Destroy() end)
        end
    end)
    CreateActionButton("Crash", function()
        pcall(function()
            for i = 1, 100 do
                game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents"):FindFirstChild("SayMessageRequest"):FireServer(string.rep("crash", 1000), "All")
            end
        end)
    end)
    TweenService:Create(PlayerActionFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0}):Play()
    for _, child in pairs(PlayerActionFrame:GetChildren()) do
        if child:IsA("TextButton") or child:IsA("Frame") then
            child.BackgroundTransparency = child:IsA("Frame") and 0 or 0
            child.TextTransparency = 0
        end
    end
end
-- Player List Setup
local playerData = {}
local function updatePlayerEntry(playerObj, index)
    local userId = playerObj.UserId or 0
    local currentTime = tick()
    if playerData[userId] and playerData[userId].frame and playerData[userId].frame.Parent then
        local data = playerData[userId]
        local frame = data.frame
        local nameLabel = frame:FindFirstChild("NameLabel")
        local statusText = frame:FindFirstChild("StatusText")
        local statusDot = frame:FindFirstChild("StatusDot")
        if nameLabel then nameLabel.Text = playerObj.Name end
        local isAlive = playerObj.Character ~= nil
        local targetColor = isAlive and Color3.fromRGB(68, 167, 72) or Color3.fromRGB(239, 83, 80)
        local targetText = isAlive and "Online" or "Loading"
        if statusDot then statusDot.BackgroundColor3 = targetColor end
        if statusText then statusText.Text = targetText end
        data.playerObj = playerObj
        data.lastUpdate = currentTime
        frame.LayoutOrder = index
        return frame
    end
    local entryFrame = Instance.new("Frame")
    entryFrame.Name = "Player_" .. userId
    entryFrame.Size = UDim2.new(1, 0, 0, 40)
    entryFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    entryFrame.BorderSizePixel = 0
    entryFrame.LayoutOrder = index
    entryFrame.Parent = PlayerListPage
    local entryCorner = Instance.new("UICorner")
    entryCorner.CornerRadius = UDim.new(0, 6)
    entryCorner.Parent = entryFrame
    local statusDot = Instance.new("Frame")
    statusDot.Name = "StatusDot"
    statusDot.Size = UDim2.new(0, 6, 0, 6)
    statusDot.Position = UDim2.new(0, 12, 0.5, -3)
    statusDot.BackgroundColor3 = playerObj.Character and Color3.fromRGB(68, 167, 72) or Color3.fromRGB(239, 83, 80)
    statusDot.BorderSizePixel = 0
    statusDot.Parent = entryFrame
    local dotCorner = Instance.new("UICorner")
    dotCorner.CornerRadius = UDim.new(0, 3)
    dotCorner.Parent = statusDot
    local nameLabel = Instance.new("TextButton")
    nameLabel.Name = "NameLabel"
    nameLabel.Size = UDim2.new(0, 200, 0, 18)
    nameLabel.Position = UDim2.new(0, 24, 0, 6)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = playerObj.Name or "Unknown"
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextSize = 14
    nameLabel.Font = Enum.Font.SourceSansSemibold
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    nameLabel.TextTruncate = Enum.TextTruncate.AtEnd
    nameLabel.Parent = entryFrame
    nameLabel.MouseButton1Click:Connect(function()
        if playerObj ~= LocalPlayer then CreatePlayerActionMenu(playerObj) end
    end)
    nameLabel.MouseEnter:Connect(function()
        TweenService:Create(entryFrame, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 50, 50)}):Play()
    end)
    nameLabel.MouseLeave:Connect(function()
        TweenService:Create(entryFrame, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}):Play()
    end)
    local idLabel = Instance.new("TextLabel")
    idLabel.Name = "IdLabel"
    idLabel.Size = UDim2.new(0, 80, 0, 14)
    idLabel.Position = UDim2.new(0, 24, 0, 22)
    idLabel.BackgroundTransparency = 1
    idLabel.Text = "#" .. string.sub(tostring(userId), 1, 6)
    idLabel.TextColor3 = Color3.fromRGB(128, 128, 136)
    idLabel.TextSize = 11
    idLabel.Font = Enum.Font.SourceSans
    idLabel.TextXAlignment = Enum.TextXAlignment.Left
    idLabel.Parent = entryFrame
    local statusTextLabel = Instance.new("TextLabel")
    statusTextLabel.Name = "StatusText"
    statusTextLabel.Size = UDim2.new(0, 60, 0, 14)
    statusTextLabel.Position = UDim2.new(1, -72, 0, 22)
    statusTextLabel.BackgroundTransparency = 1
    statusTextLabel.Text = playerObj.Character and "Online" or "Loading"
    statusTextLabel.TextColor3 = Color3.fromRGB(128, 128, 136)
    statusTextLabel.TextSize = 11
    statusTextLabel.Font = Enum.Font.SourceSans
    statusTextLabel.TextXAlignment = Enum.TextXAlignment.Right
    statusTextLabel.Parent = entryFrame
    playerData[userId] = { frame = entryFrame, playerObj = playerObj, lastUpdate = currentTime }
    return entryFrame
end
local function cleanupDeadPlayers()
    local currentPlayers = {}
    for _, p in ipairs(Players:GetPlayers()) do currentPlayers[p.UserId] = true end
    for userId, data in pairs(playerData) do
        if not currentPlayers[userId] and data.frame and data.frame.Parent then
            data.frame:Destroy()
            playerData[userId] = nil
        end
    end
end
local function updatePlayerList()
    local playerList = Players:GetPlayers()
    local total = #playerList
    cleanupDeadPlayers()
    for i, playerObj in ipairs(playerList) do
        local frame = updatePlayerEntry(playerObj, i)
        if frame and frame.Parent then frame.LayoutOrder = i end
    end
    PlayerListPage.CanvasSize = UDim2.new(0, 0, 0, math.max(0, total * 46))
end
spawn(function()
    while ScreenGui.Parent do
        if ActiveTab == "PlayerList" then updatePlayerList() end
        wait(4)
    end
end)
Players.PlayerAdded:Connect(function(newPlayer)
    if ActiveTab == "PlayerList" then updatePlayerList() end
end)
Players.PlayerRemoving:Connect(function(leavingPlayer)
    if ActiveTab == "PlayerList" then updatePlayerList() end
end)
local FOVCircle = Drawing.new("Circle")
FOVCircle.Visible = false
FOVCircle.Radius = Settings.FOVSize
FOVCircle.Thickness = 2
FOVCircle.Position = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
FOVCircle.Filled = false
FOVCircle.Color = Color3.fromRGB(255, 255, 255)
local function ToggleAimbot(state)
    Toggles.Aimbot = state
    FOVCircle.Visible = state and Toggles.ShowFOV
    if state then
        local aimbotConnection = RunService:BindToRenderStep("Aimbot", Enum.RenderPriority.Camera.Value + 1, function()
            if not Toggles.Aimbot or not UserInputService:IsMouseButtonPressed(aimKey) then
                lastTarget = nil
                return
            end
            if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                lastTarget = nil
                return
            end
            local closest, closestDist = nil, Settings.FOVSize
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
                    local isEnemy = not Toggles.TeamCheck or not hasTeams() or player.Team ~= LocalPlayer.Team
                    if isEnemy then
                        local headPos, onScreen = Camera:WorldToViewportPoint(player.Character.Head.Position)
                        local dist3D = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.Head.Position).Magnitude
                        if onScreen and dist3D <= Settings.AimbotDistance then
                            local dist2D = (Vector2.new(headPos.X, headPos.Y) - Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)).Magnitude
                            if dist2D < closestDist then
                                closest = player.Character.Head
                                closestDist = dist2D
                            end
                        end
                    end
                end
            end
            if closest then
                lastTarget = closest
                Camera.CFrame = CFrame.new(Camera.CFrame.Position, closest.Position)
            else
                lastTarget = nil
            end
        end)
        table.insert(Connections, aimbotConnection)
    else
        RunService:UnbindFromRenderStep("Aimbot")
        FOVCircle.Visible = false
        lastTarget = nil
    end
end
local function ToggleTeamCheck(state) Toggles.TeamCheck = state end
local function ToggleShowFOV(state) Toggles.ShowFOV = state; FOVCircle.Visible = Toggles.Aimbot and state end
local function ToggleEnemyTPKill(state)
    Toggles['EnemyTP-Kill'] = state
    if state then
        local tpKillConnection = RunService:BindToRenderStep("EnemyTP-Kill", Enum.RenderPriority.Character.Value + 1, function()
            if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return end
            local myCFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
            local forwardOffset = myCFrame.LookVector * 5
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and isValidCharacter(player) then
                    local isEnemy = not Toggles.TeamCheck or not hasTeams() or player.Team ~= LocalPlayer.Team
                    if isEnemy then
                        player.Character.HumanoidRootPart.CFrame = CFrame.new(myCFrame.Position + forwardOffset + Vector3.new(math.random(-2, 2), 0, math.random(-1, 1)))
                        player.Character.Humanoid.WalkSpeed = 0
                        player.Character.Humanoid.JumpPower = 0
                    end
                end
            end
        end)
        table.insert(Connections, tpKillConnection)
    else
        RunService:UnbindFromRenderStep("EnemyTP-Kill")
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and isValidCharacter(player) then
                player.Character.Humanoid.WalkSpeed = 16
                player.Character.Humanoid.JumpPower = 50
            end
        end
    end
end
local function ToggleSpinBot(state)
    Toggles.SpinBot = state
    if state then
        local spinBotConnection = RunService:BindToRenderStep("SpinBot", Enum.RenderPriority.Character.Value + 1, function(deltaTime)
            if not Toggles.SpinBot or not LocalPlayer.Character then return end
            local root = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if root then
                local spinSpeed = math.rad(Settings.SpinBotSpeed * deltaTime * 10)
                root.CFrame = root.CFrame * CFrame.Angles(0, spinSpeed, 0)
            end
        end)
        table.insert(Connections, spinBotConnection)
    else
        RunService:UnbindFromRenderStep("SpinBot")
    end
end
local function ToggleNoClip(state)
    Toggles.NoClip = state
    if state then
        local noClipConnection = RunService:BindToRenderStep("NoClip", Enum.RenderPriority.Character.Value + 1, function()
            if LocalPlayer.Character and Toggles.NoClip then
                for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = false end
                end
            end
        end)
        table.insert(Connections, noClipConnection)
    else
        RunService:UnbindFromRenderStep("NoClip")
        if LocalPlayer.Character then
            for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                if part:IsA("BasePart") then part.CanCollide = true end
            end
        end
    end
end
local function ToggleInfJump(state)
    Toggles.InfJump = state
    if state then
        local jumpConnection = UserInputService.JumpRequest:Connect(function()
            if LocalPlayer.Character and Toggles.InfJump then
                local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                if humanoid then humanoid:ChangeState(Enum.HumanoidStateType.Jumping) end
            end
        end)
        table.insert(Connections, jumpConnection)
    end
end
local function ToggleSpeedHack(state)
    Toggles.SpeedHack = state
    if state then
        local speedHackConnection = RunService:BindToRenderStep("SpeedHack", Enum.RenderPriority.Character.Value + 1, function()
            if LocalPlayer.Character and Toggles.SpeedHack then
                local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                if humanoid then humanoid.WalkSpeed = Settings.SpeedScale end
            end
        end)
        table.insert(Connections, speedHackConnection)
    else
        RunService:UnbindFromRenderStep("SpeedHack")
        if LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then humanoid.WalkSpeed = 16 end
        end
    end
end
local function ToggleFly(state)
    Toggles.Fly = state
    if FlyBodyVelocity then FlyBodyVelocity:Destroy() end
    RunService:UnbindFromRenderStep("Fly")
    if state and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        FlyBodyVelocity = Instance.new("BodyVelocity")
        FlyBodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        FlyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
        FlyBodyVelocity.Parent = LocalPlayer.Character.HumanoidRootPart
        local flyConnection = RunService:BindToRenderStep("Fly", Enum.RenderPriority.Input.Value + 1, function()
            if not Toggles.Fly then return end
            local moveDir = Vector3.new(0, 0, 0)
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveDir = moveDir + Camera.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveDir = moveDir - Camera.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveDir = moveDir + Camera.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveDir = moveDir - Camera.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveDir = moveDir + Vector3.new(0, 1, 0) end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then moveDir = moveDir - Vector3.new(0, 1, 0) end
            FlyBodyVelocity.Velocity = (moveDir.Magnitude > 0 and moveDir.Unit or Vector3.new(0, 0, 0)) * Settings.FlySpeed
        end)
        table.insert(Connections, flyConnection)
    end
end
local function ToggleJumpBoost(state)
    Toggles.JumpBoost = state
    if state then
        local jumpBoostConnection = RunService:BindToRenderStep("JumpBoost", Enum.RenderPriority.Character.Value + 1, function()
            if LocalPlayer.Character and Toggles.JumpBoost then
                local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                if humanoid then
                    humanoid.JumpPower = Settings.JumpBoostScale
                    humanoid.UseJumpPower = true
                end
            end
        end)
        table.insert(Connections, jumpBoostConnection)
    else
        RunService:UnbindFromRenderStep("JumpBoost")
        if LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then humanoid.JumpPower = 50 end
        end
    end
end
local function ToggleSuperJump(state)
    Toggles.SuperJump = state
    if state then
        local superJumpConnection = RunService:BindToRenderStep("SuperJump", Enum.RenderPriority.Character.Value + 1, function()
            if LocalPlayer.Character and Toggles.SuperJump and UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                local root = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                if root then root.Velocity = Vector3.new(root.Velocity.X, Settings.SuperJumpScale, root.Velocity.Z) end
            end
        end)
        table.insert(Connections, superJumpConnection)
    else
        RunService:UnbindFromRenderStep("SuperJump")
    end
end
local function ToggleInvisible(state)
    Toggles.Invisible = state
    if LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") or part:IsA("Decal") then
                part.Transparency = state and 1 or 0
            end
        end
    end
end
local function ToggleGodMode(state)
    Toggles.GodMode = state
    if state then
        local godModeConnection = RunService:BindToRenderStep("GodMode", Enum.RenderPriority.Character.Value + 1, function()
            if LocalPlayer.Character and Toggles.GodMode then
                local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                if humanoid then humanoid.Health = humanoid.MaxHealth end
            end
        end)
        table.insert(Connections, godModeConnection)
    else
        RunService:UnbindFromRenderStep("GodMode")
    end
end
local function ToggleAntiAFK(state)
    Toggles.AntiAFK = state
    if state then
        local antiAFKConnection = RunService:BindToRenderStep("AntiAFK", Enum.RenderPriority.Character.Value + 1, function()
            if LocalPlayer.Character and Toggles.AntiAFK then
                local root = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                if root then root.CFrame = root.CFrame * CFrame.new(math.random(-0.05, 0.05), 0, math.random(-0.05, 0.05)) end
            end
        end)
        table.insert(Connections, antiAFKConnection)
    else
        RunService:UnbindFromRenderStep("AntiAFK")
    end
end
local function ToggleJerk(state)
    Toggles.Jerk = state
    if state and not JerkInstance then
        local isR6 = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Torso") ~= nil
        local success, err = pcall(function()
            JerkInstance = loadstring(game:HttpGet(isR6 and "https://pastefy.app/wa3v2Vgm/raw" or "https://pastefy.app/YZoglOyJ/raw"))()
        end)
        if not success then
            warn("Failed to load Jerk script: " .. tostring(err))
            Toggles.Jerk = false
        end
    elseif not state and JerkInstance then
        JerkInstance = nil
    end
end
local function ToggleBHOP(state)
    Toggles.BHOP = state
    if state then
        bhopConnection = RunService:BindToRenderStep("BHOP", Enum.RenderPriority.Character.Value + 1, function(deltaTime)
            if not Toggles.BHOP then return end
            local character = LocalPlayer.Character
            if not character then return end
            local humanoid = character:FindFirstChild("Humanoid")
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if not humanoid or not rootPart then return end
            humanoid.JumpPower = BHOP_JUMP_POWER
            if isBhopping and humanoid.FloorMaterial ~= Enum.Material.Air and tick() - lastJumpTime > JUMP_COOLDOWN then
                humanoid.Jump = true
                lastJumpTime = tick()
                local moveDirection = humanoid.MoveDirection
                if moveDirection.Magnitude > 0 then
                    local velocity = rootPart.Velocity
                    local speedBoost = moveDirection * Settings.BHOPSpeed
                    local newVelocity = Vector3.new(
                        math.clamp(velocity.X + speedBoost.X, -BHOP_MAX_SPEED, BHOP_MAX_SPEED),
                        velocity.Y,
                        math.clamp(velocity.Z + speedBoost.Z, -BHOP_MAX_SPEED, BHOP_MAX_SPEED)
                    )
                    rootPart.Velocity = newVelocity
                end
            end
            if humanoid.FloorMaterial == Enum.Material.Air then
                local moveDirection = humanoid.MoveDirection
                if moveDirection.Magnitude > 0 then
                    local currentVelocity = rootPart.Velocity
                    local airAdjust = moveDirection * (Settings.BHOPSpeed / 25) * BHOP_AIR_CONTROL * deltaTime * 100
                    rootPart.Velocity = Vector3.new(
                        math.clamp(currentVelocity.X + airAdjust.X, -BHOP_MAX_SPEED, BHOP_MAX_SPEED),
                        currentVelocity.Y,
                        math.clamp(currentVelocity.Z + airAdjust.Z, -BHOP_MAX_SPEED, BHOP_MAX_SPEED)
                    )
                end
            end
        end)
        local inputBeganConn = UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if input.KeyCode == Enum.KeyCode.Space and not gameProcessed then isBhopping = true end
        end)
        local inputEndedConn = UserInputService.InputEnded:Connect(function(input)
            if input.KeyCode == Enum.KeyCode.Space then isBhopping = false end
        end)
        table.insert(Connections, inputBeganConn)
        table.insert(Connections, inputEndedConn)
    else
        if bhopConnection then
            RunService:UnbindFromRenderStep("BHOP")
            bhopConnection = nil
        end
        isBhopping = false
        if LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then humanoid.JumpPower = 50 end
        end
    end
end
local function ToggleCameraZoom(state)
    Toggles.CameraZoom = state
    if state then
        local zoomBeganConn = UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if not gameProcessed and input.KeyCode == Enum.KeyCode.C then isZooming = true end
        end)
        local zoomEndedConn = UserInputService.InputEnded:Connect(function(input)
            if input.KeyCode == Enum.KeyCode.C then isZooming = false end
        end)
        table.insert(Connections, zoomBeganConn)
        table.insert(Connections, zoomEndedConn)
        local zoomConnection = RunService:BindToRenderStep("CameraZoom", Enum.RenderPriority.Camera.Value + 1, function()
            if isZooming then Camera.FieldOfView = 70 - Settings.CameraZoomScale else Camera.FieldOfView = Settings.GameFOV end
        end)
        table.insert(Connections, zoomConnection)
    else
        RunService:UnbindFromRenderStep("CameraZoom")
        isZooming = false
        Camera.FieldOfView = Settings.GameFOV
    end
end
local function CreateBoxESP(player)
    if player == LocalPlayer then return end
    local Box = Drawing.new("Square")
    Box.Thickness = Settings.BoxThickness
    Box.Filled = false
    Box.Transparency = 0.9
    Box.Color = Settings.BoxColor
    local Tracer = Drawing.new("Line")
    Tracer.Thickness = 1
    Tracer.Transparency = 0.9
    Tracer.Color = Settings.BoxColor
    local NameLabel = Drawing.new("Text")
    NameLabel.Text = player.Name
    NameLabel.Size = 18
    NameLabel.Center = true
    NameLabel.Outline = true
    NameLabel.Color = Settings.BoxColor
    local HealthLabel = Drawing.new("Text")
    HealthLabel.Size = 16
    HealthLabel.Center = true
    HealthLabel.Outline = true
    HealthLabel.Color = Settings.BoxColor
    local DistanceLabel = Drawing.new("Text")
    DistanceLabel.Size = 16
    DistanceLabel.Center = true
    DistanceLabel.Outline = true
    DistanceLabel.Color = Settings.BoxColor
    ESP[player] = {Box = Box, Tracer = Tracer, NameLabel = NameLabel, HealthLabel = HealthLabel, DistanceLabel = DistanceLabel}
    local espConnection = RunService:BindToRenderStep("BoxESP2D_" .. player.Name, Enum.RenderPriority.Character.Value + 1, function()
        local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
        local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
        if root and humanoid and humanoid.Health > 0 then
            local isTeammate = Toggles.TeamCheck and hasTeams() and player.Team == LocalPlayer.Team
            local dist = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and (LocalPlayer.Character.HumanoidRootPart.Position - root.Position).Magnitude) or math.huge
            if dist <= Settings.ESPDistance and not isTeammate then
                local rootPos, onScreen = Camera:WorldToViewportPoint(root.Position)
                if onScreen then
                    local character = player.Character
                    local parts = character:GetChildren()
                    local minPos = Vector3.new(math.huge, math.huge, math.huge)
                    local maxPos = Vector3.new(-math.huge, -math.huge, -math.huge)
                    for _, part in ipairs(parts) do
                        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                            local partCFrame = part.CFrame
                            local size = part.Size * 0.5
                            local corners = {
                                partCFrame * Vector3.new(-size.X, -size.Y, -size.Z),
                                partCFrame * Vector3.new(-size.X, -size.Y, size.Z),
                                partCFrame * Vector3.new(-size.X, size.Y, -size.Z),
                                partCFrame * Vector3.new(-size.X, size.Y, size.Z),
                                partCFrame * Vector3.new(size.X, -size.Y, -size.Z),
                                partCFrame * Vector3.new(size.X, -size.Y, size.Z),
                                partCFrame * Vector3.new(size.X, size.Y, -size.Z),
                                partCFrame * Vector3.new(size.X, size.Y, size.Z)
                            }
                            for _, corner in ipairs(corners) do
                                local cornerPos, _ = Camera:WorldToViewportPoint(corner)
                                minPos = Vector3.new(math.min(minPos.X, cornerPos.X), math.min(minPos.Y, cornerPos.Y), minPos.Z)
                                maxPos = Vector3.new(math.max(maxPos.X, cornerPos.X), math.max(maxPos.Y, cornerPos.Y), maxPos.Z)
                            end
                        end
                    end
                    local width = (maxPos.X - minPos.X) * 1.02
                    local height = (maxPos.Y - minPos.Y) * 1.02
                    local x = minPos.X - (width - (maxPos.X - minPos.X)) / 2
                    local y = minPos.Y - (height - (maxPos.Y - minPos.Y)) / 2
                    Box.Position = Vector2.new(x, y)
                    Box.Size = Vector2.new(width, height)
                    Box.Visible = Toggles.BoxESP
                    local feetPos, _ = Camera:WorldToViewportPoint(root.Position - Vector3.new(0, 3, 0))
                    Tracer.From = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y)
                    Tracer.To = Vector2.new(feetPos.X, feetPos.Y)
                    Tracer.Visible = Toggles.Tracers and onScreen
                    HealthLabel.Text = math.floor(humanoid.Health) .. "/" .. math.floor(humanoid.MaxHealth)
                    HealthLabel.Position = Vector2.new(x + width / 2, y - 20)
                    HealthLabel.Visible = Toggles.HealthESP and onScreen
                    NameLabel.Position = Vector2.new(x + width / 2, y - 40)
                    NameLabel.Visible = Toggles.NamesESP and onScreen
                    DistanceLabel.Text = math.floor(dist) .. " studs"
                    DistanceLabel.Position = Vector2.new(feetPos.X, feetPos.Y + 20)
                    DistanceLabel.Visible = Toggles.DistanceESP and onScreen
                else
                    Box.Visible = false
                    Tracer.Visible = false
                    NameLabel.Visible = false
                    HealthLabel.Visible = false
                    DistanceLabel.Visible = false
                end
            else
                Box.Visible = false
                Tracer.Visible = false
                NameLabel.Visible = false
                HealthLabel.Visible = false
                DistanceLabel.Visible = false
            end
        else
            Box.Visible = false
            Tracer.Visible = false
            NameLabel.Visible = false
            HealthLabel.Visible = false
            DistanceLabel.Visible = false
        end
    end)
    table.insert(Connections, espConnection)
    local charAddedConn = player.CharacterAdded:Connect(function() task.wait(0.5) end)
    table.insert(Connections, charAddedConn)
end
local function RefreshESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and not ESP[player] then CreateBoxESP(player) end
    end
    for player, esp in pairs(ESP) do
        esp.Box.Thickness = Settings.BoxThickness
        esp.Box.Color = Settings.BoxColor
        esp.Box.Visible = Toggles.BoxESP
        esp.Tracer.Color = Settings.BoxColor
        esp.Tracer.Visible = Toggles.Tracers
        esp.HealthLabel.Color = Settings.BoxColor
        esp.HealthLabel.Visible = Toggles.HealthESP
        esp.NameLabel.Color = Settings.BoxColor
        esp.NameLabel.Visible = Toggles.NamesESP
        esp.DistanceLabel.Color = Settings.BoxColor
        esp.DistanceLabel.Visible = Toggles.DistanceESP
    end
end
local function ToggleBoxESP(state) Toggles.BoxESP = state; RefreshESP() end
local function ToggleTracers(state) Toggles.Tracers = state; RefreshESP() end
local function ToggleHealthESP(state) Toggles.HealthESP = state; RefreshESP() end
local function ToggleNamesESP(state) Toggles.NamesESP = state; RefreshESP() end
local function ToggleDistanceESP(state) Toggles.DistanceESP = state; RefreshESP() end
-- Function to toggle aimbot key between LeftClick and RightClick
local function ToggleAimKey()
    if aimKey == Enum.UserInputType.MouseButton1 then
        aimKey = Enum.UserInputType.MouseButton2
        aimKeyName = "RightClick"
    else
        aimKey = Enum.UserInputType.MouseButton1
        aimKeyName = "LeftClick"
    end
    if AimKeyButton then
        AimKeyButton.Text = "AimKey: " .. aimKeyName
    end
end
-- Create AimKey toggle button at the top of Combat page
local AimKeyButton = Instance.new("TextButton")
AimKeyButton.Size = UDim2.new(1, -20, 0, 35)
AimKeyButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
AimKeyButton.Text = "AimKey: " .. aimKeyName
AimKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
AimKeyButton.TextSize = 16
AimKeyButton.Font = Enum.Font.SourceSans
AimKeyButton.TextXAlignment = Enum.TextXAlignment.Left
AimKeyButton.Parent = CombatPage
AimKeyButton.LayoutOrder = -1
local AimKeyButtonCorner = Instance.new("UICorner")
AimKeyButtonCorner.CornerRadius = UDim.new(0, 6)
AimKeyButtonCorner.Parent = AimKeyButton
local AimKeyButtonPadding = Instance.new("UIPadding")
AimKeyButtonPadding.PaddingLeft = UDim.new(0, 12)
AimKeyButtonPadding.Parent = AimKeyButton
AimKeyButton.MouseButton1Click:Connect(ToggleAimKey)
-- Create Toggles and Sliders
CreateToggle(CombatPage, "Aimbot", ToggleAimbot)
CreateToggle(CombatPage, "TeamCheck", ToggleTeamCheck)
CreateToggle(CombatPage, "ShowFOV", ToggleShowFOV)
CreateToggle(CombatPage, "TriggerBot", ToggleTriggerBot)
local EnemyTPKillToggle = CreateToggle(CombatPage, "EnemyTP-Kill", ToggleEnemyTPKill)
CreateSlider(CombatPage, "FOVSize", 50, 500, Settings.FOVSize, function(value)
    FOVCircle.Radius = value
    Settings.FOVSize = value
end)
CreateSlider(CombatPage, "AimbotDistance", 100, 5000, Settings.AimbotDistance, function(value)
    Settings.AimbotDistance = value
end)
CreateToggle(MovementPage, "NoClip", ToggleNoClip)
CreateToggle(MovementPage, "InfJump", ToggleInfJump)
CreateToggle(MovementPage, "SpeedHack", ToggleSpeedHack)
CreateToggle(MovementPage, "Fly", ToggleFly)
CreateToggle(MovementPage, "JumpBoost", ToggleJumpBoost)
CreateToggle(MovementPage, "SuperJump", ToggleSuperJump)
CreateToggle(MovementPage, "BHOP", ToggleBHOP)
CreateSlider(MovementPage, "SpeedScale", 16, 200, Settings.SpeedScale, function(value)
    Settings.SpeedScale = value
    if Toggles.SpeedHack and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then humanoid.WalkSpeed = value end
    end
end)
CreateSlider(MovementPage, "FlySpeed", 10, 200, Settings.FlySpeed, function(value)
    Settings.FlySpeed = value
end)
CreateSlider(MovementPage, "JumpBoostScale", 50, 200, Settings.JumpBoostScale, function(value)
    Settings.JumpBoostScale = value
    if Toggles.JumpBoost and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then humanoid.JumpPower = value end
    end
end)
CreateSlider(MovementPage, "SuperJumpScale", 50, 500, Settings.SuperJumpScale, function(value)
    Settings.SuperJumpScale = value
end)
CreateSlider(MovementPage, "BHOPSpeed", 10, 100, Settings.BHOPSpeed, function(value)
    Settings.BHOPSpeed = value
end)
CreateToggle(VisualsPage, "BoxESP", ToggleBoxESP)
CreateToggle(VisualsPage, "Tracers", ToggleTracers)
CreateToggle(VisualsPage, "HealthESP", ToggleHealthESP)
CreateToggle(VisualsPage, "NamesESP", ToggleNamesESP)
CreateToggle(VisualsPage, "DistanceESP", ToggleDistanceESP)
CreateToggle(VisualsPage, "CameraZoom", ToggleCameraZoom)
CreateSlider(VisualsPage, "ESPDistance", 100, 5000, Settings.ESPDistance, function(value)
    Settings.ESPDistance = value
    RefreshESP()
end)
CreateSlider(VisualsPage, "BoxThickness", 1, 5, Settings.BoxThickness, function(value)
    Settings.BoxThickness = value
    RefreshESP()
end)
CreateSlider(VisualsPage, "GameFOV", 30, 120, Settings.GameFOV, function(value)
    Settings.GameFOV = value
    if not isZooming then
        Camera.FieldOfView = value
    end
end)
CreateSlider(VisualsPage, "CameraZoomScale", 10, 60, Settings.CameraZoomScale, function(value)
    Settings.CameraZoomScale = value
end)
CreateToggle(MiscPage, "Invisible", ToggleInvisible)
CreateToggle(MiscPage, "SpinBot", ToggleSpinBot)
CreateToggle(MiscPage, "GodMode", ToggleGodMode)
CreateToggle(MiscPage, "AntiAFK", ToggleAntiAFK)
CreateToggle(MiscPage, "Jerk", ToggleJerk)
CreateSlider(MiscPage, "SpinBotSpeed", 5, 50, Settings.SpinBotSpeed, function(value)
    Settings.SpinBotSpeed = value
end)
-- Save and Load Settings
local function SaveSettings()
    local data = {
        Settings = Settings,
        Toggles = Toggles,
        AimKey = aimKeyName
    }
    local success, err = pcall(function()
        writefile(saveFile, HttpService:JSONEncode(data))
    end)
    if not success then
        warn("Failed to save settings: " .. tostring(err))
    end
end
local function LoadSettings()
    local success, data = pcall(function()
        if isfile(saveFile) then
            return HttpService:JSONDecode(readfile(saveFile))
        end
        return nil
    end)
    if success and data then
        for key, value in pairs(data.Settings or {}) do
            if Settings[key] ~= nil then
                Settings[key] = value
                if key == "FOVSize" then
                    FOVCircle.Radius = value
                elseif key == "GameFOV" then
                    if not isZooming then
                        Camera.FieldOfView = value
                    end
                elseif key == "SpeedScale" and Toggles.SpeedHack and LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                    if humanoid then humanoid.WalkSpeed = value end
                elseif key == "JumpBoostScale" and Toggles.JumpBoost and LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                    if humanoid then humanoid.JumpPower = value end
                end
            end
        end
        for key, value in pairs(data.Toggles or {}) do
            if Toggles[key] ~= nil and ToggleUIElements[key] then
                Toggles[key] = value
                local toggleFunc = ({
                    BoxESP = ToggleBoxESP,
                    Tracers = ToggleTracers,
                    HealthESP = ToggleHealthESP,
                    NamesESP = ToggleNamesESP,
                    DistanceESP = ToggleDistanceESP,
                    Aimbot = ToggleAimbot,
                    TeamCheck = ToggleTeamCheck,
                    ShowFOV = ToggleShowFOV,
                    ["EnemyTP-Kill"] = ToggleEnemyTPKill,
                    NoClip = ToggleNoClip,
                    InfJump = ToggleInfJump,
                    SpeedHack = ToggleSpeedHack,
                    Fly = ToggleFly,
                    JumpBoost = ToggleJumpBoost,
                    SuperJump = ToggleSuperJump,
                    Invisible = ToggleInvisible,
                    SpinBot = ToggleSpinBot,
                    GodMode = ToggleGodMode,
                    AntiAFK = ToggleAntiAFK,
                    Jerk = ToggleJerk,
                    BHOP = ToggleBHOP,
                    CameraZoom = ToggleCameraZoom,
                    TriggerBot = ToggleTriggerBot
                })[key]
                if toggleFunc then
                    toggleFunc(value)
                end
                local ui = ToggleUIElements[key]
                if ui then
                    local targetPos = value and UDim2.new(1, -21, 0, 0) or UDim2.new(0, 0, 0, 0)
                    local targetColor = value and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(60, 60, 60)
                    TweenService:Create(ui.Knob, TweenInfo.new(0.2), {Position = targetPos}):Play()
                    TweenService:Create(ui.Switch, TweenInfo.new(0.2), {BackgroundColor3 = targetColor}):Play()
                end
            end
        end
        if data.AimKey then
            aimKeyName = data.AimKey
            aimKey = aimKeyName == "LeftClick" and Enum.UserInputType.MouseButton1 or Enum.UserInputType.MouseButton2
            if AimKeyButton then
-- [Previous script content up to AimKeyButton.Text =]
AimKeyButton.Text = "AimKey: " .. aimKeyName
            end
        end
    end
end
SaveButton.MouseButton1Click:Connect(SaveSettings)
UnsaveButton.MouseButton1Click:Connect(function()
    if isfile(saveFile) then
        delfile(saveFile)
        -- Reset to default settings
        Settings = table.clone(DefaultSettings)
        for key, value in pairs(DefaultToggles) do
            if Toggles[key] ~= nil then
                Toggles[key] = value
                local toggleFunc = ({
                    BoxESP = ToggleBoxESP,
                    Tracers = ToggleTracers,
                    HealthESP = ToggleHealthESP,
                    NamesESP = ToggleNamesESP,
                    DistanceESP = ToggleDistanceESP,
                    Aimbot = ToggleAimbot,
                    TeamCheck = ToggleTeamCheck,
                    ShowFOV = ToggleShowFOV,
                    ["EnemyTP-Kill"] = ToggleEnemyTPKill,
                    NoClip = ToggleNoClip,
                    InfJump = ToggleInfJump,
                    SpeedHack = ToggleSpeedHack,
                    Fly = ToggleFly,
                    JumpBoost = ToggleJumpBoost,
                    SuperJump = ToggleSuperJump,
                    Invisible = ToggleInvisible,
                    SpinBot = ToggleSpinBot,
                    GodMode = ToggleGodMode,
                    AntiAFK = ToggleAntiAFK,
                    Jerk = ToggleJerk,
                    BHOP = ToggleBHOP,
                    CameraZoom = ToggleCameraZoom,
                    TriggerBot = ToggleTriggerBot
                })[key]
                if toggleFunc then
                    toggleFunc(value)
                end
                -- Update UI for toggles
                local ui = ToggleUIElements[key]
                if ui then
                    local targetPos = value and UDim2.new(1, -21, 0, 0) or UDim2.new(0, 0, 0, 0)
                    local targetColor = value and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(60, 60, 60)
                    TweenService:Create(ui.Knob, TweenInfo.new(0.2), {Position = targetPos}):Play()
                    TweenService:Create(ui.Switch, TweenInfo.new(0.2), {BackgroundColor3 = targetColor}):Play()
                end
            end
        end
        -- Reset aim key
        aimKey = Enum.UserInputType.MouseButton1
        aimKeyName = "LeftClick"
        if AimKeyButton then
            AimKeyButton.Text = "AimKey: " .. aimKeyName
        end
        -- Reset sliders
        FOVCircle.Radius = Settings.FOVSize
        if not isZooming then
            Camera.FieldOfView = Settings.GameFOV
        end
        if Toggles.SpeedHack and LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then humanoid.WalkSpeed = Settings.SpeedScale end
        end
        if Toggles.JumpBoost and LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then humanoid.JumpPower = Settings.JumpBoostScale end
        end
        RefreshESP()
    end
end)
-- Initialize ESP for existing players
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        CreateBoxESP(player)
    end
end
Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        CreateBoxESP(player)
    end
end)
Players.PlayerRemoving:Connect(function(player)
    if ESP[player] then
        for _, obj in pairs(ESP[player]) do
            pcall(function() obj:Remove() end)
        end
        ESP[player] = nil
    end
end)
-- Load settings on startup
LoadSettings()
-- Update CanvasSize for all pages
for _, page in pairs(Pages) do
    page.CanvasSize = UDim2.new(0, 0, 0, page.UIListLayout.AbsoluteContentSize.Y + 10)
end
-- Handle character respawn
LocalPlayer.CharacterAdded:Connect(function(character)
    task.wait(0.5)
    if Toggles.NoClip then ToggleNoClip(true) end
    if Toggles.SpeedHack then ToggleSpeedHack(true) end
    if Toggles.JumpBoost then ToggleJumpBoost(true) end
    if Toggles.Invisible then ToggleInvisible(true) end
    if Toggles.Fly then ToggleFly(true) end
    if Toggles.BHOP then ToggleBHOP(true) end
end)
-- Update FOV circle position
RunService:BindToRenderStep("UpdateFOV", Enum.RenderPriority.Camera.Value, function()
    if Toggles.ShowFOV and Toggles.Aimbot then
        FOVCircle.Position = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    end
end)
-- Keybind to toggle GUI visibility
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.RightShift then
        MainFrame.Visible = not MainFrame.Visible
        if MainFrame.Visible then
            TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = UDim2.new(0, 700, 0, 450), BackgroundTransparency = 0}):Play()
        else
            TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Size = UDim2.new(0, 0, 0, 0), BackgroundTransparency = 1}):Play()
        end
    end
end)
